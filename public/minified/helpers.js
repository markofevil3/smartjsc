function createNode(b){var a=document.createElement("div");a.innerHTML=b;return a.firstChild}function removeFromDocument(a){if(a&&a.parentNode){a.parentNode.removeChild(a)}}function isHash(a){return a.constructor==Object}function ajax(d,g,i,c){var b=new XMLHttpRequest();b.onreadystatechange=function(){if(b.readyState==4){if(b.status==200){if(i){i(b.responseText)}}else{if(c){c(b.responseText)}}}};var a=d;if(g){if(isHash(g)){var f=true;for(var e in g){a+=(f?"?":"&");f=false;a+=encodeURIComponent(e)+"="+encodeURIComponent(g[e])}}else{if(g.length>0){a+="?"+g}}}a+="&timestamp="+Date.now();b.open("GET",a);b.send()}function ajaxPost(a,c,j,e){var i=new XMLHttpRequest();i.onreadystatechange=function(){if(i.readyState==4){if(i.status==200){if(j){j(i.responseText)}}else{if(e){e(i.responseText)}}}};var f=a;var b="";if(c){if(isHash(c)){var d=true;for(var g in c){b+=(d?"":"&");d=false;b+=encodeURIComponent(g)+"="+encodeURIComponent(c[g])}}else{if(c.length>0){b+=c}}}b+="&timestamp="+Date.now();i.open("POST",f,true);i.setRequestHeader("Content-type","application/x-www-form-urlencoded");i.send(b)}function h(a){if(a==null){return null}return String(a).replace(/>/g,"&gt;").replace(/</g,"&lt;").replace(/'/g,"&#39;").replace(/"/g,"&quot;").replace(/&/g,"&amp;")}function now(){return new Date().getTime()}function replaceAt(b,a,d){return b.substr(0,parseInt(a))+d+b.substr(parseInt(a)+d.length)}function getOffset(b){var a=0;var c=0;while(b){a+=b.offsetLeft;c+=b.offsetTop;b=b.offsetParent}return{x:a,y:c}}function arrayRandom(a){return a[Math.floor(Math.random()*a.length)]}function arrayShuffle(e){var b=e.slice();var a=b.length;var d=a;while(d--){var f=parseInt(Math.random()*a);var c=b[d];b[d]=b[f];b[f]=c}return b}function calculateDistance(b,a){return Math.sqrt((Math.pow(a.x-b.x,2)+Math.pow(a.y-b.y,2)))}function getParameterByName(b){b=b.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var a="[\\?&]"+b+"=([^&#]*)";var d=new RegExp(a);var c=d.exec(window.location.search);if(c==null){return""}else{return decodeURIComponent(c[1].replace(/\+/g," "))}}function createUUID(){var d=[];var a="0123456789abcdef";for(var b=0;b<36;b++){d[b]=a.substr(Math.floor(Math.random()*16),1)}d[14]="4";d[19]=a.substr((d[19]&3)|8,1);d[8]=d[13]=d[18]=d[23]="-";var c=d.join("");return c}function confirm_prompt(a){return confirm(a)}function stripHTML(b){var a=document.createElement("DIV");a.innerHTML=b;return a.textContent||a.innerText};